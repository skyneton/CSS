<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        video {
            width: 100%;
        }
    </style>
    <script>
        let screenStream;

        function getBrowser() {
            let brower;
            // Opera 8.0+
            if((!!window.opr && !!opr.addons) || !!window.opera || navigator.userAgent.indexOf(' OPR/') != 0-1) brower = "Opera";

            // Firefox 1.0+
            if(typeof InstallTrigger !== 'undefined') brower = "Firefox";

            // Safari 3.0+ "[object HTMLElementConstructor]" 
            if(/constructor/i.test(window.HTMLElement) || (function (p) { return p.toString() === "[object SafariRemoteNotification]"; })(!window['safari'] || (typeof safari !== 'undefined' && safari.pushNotification)))  brower = "Safari";

            // Internet Explorer 6-11
            if(/*@cc_on!@*/false || !!document.documentMode) brower = "Internet Explorer";

            // Edge 20+
            if(!isIE && !!window.StyleMedia) browser = "Edge";

            // Chrome 1 - 79
            if(!!window.chrome && (!!window.chrome.webstore || !!window.chrome.runtime)) brower = "Chrome";

            // Edge (based on chromium) detection
            if(isChrome && (navigator.userAgent.indexOf("Edg") != -1)) browser = "Edge";

            // Blink engine detection
            if((isChrome || isOpera) && !!window.CSS) broser = "Blink";

            return brower;
        }




        window.onload = () => {
            const options = {
                video: { cursor: "always" },
                audio: {
                    echCancellation: true,
                    noiseSuppression: true,
                    sampleRate: 44100
                }
            }
            navigator.mediaDevices.getDisplayMedia(options).then(stream => {
                const video = document.createElement("video");
                screenStream = stream;
                video.srcObject = screenStream;

                console.log(video.srcObject);
                
                document.body.appendChild(video);
                video.play();
            });
        }

        alert("BROWSER"+getBrowser +"\nAPPCODENAME:" + navigator.appCodeName);
    </script>
</head>
<body>
</body>
</html>